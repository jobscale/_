#!/usr/bin/env bash
set -eux

export DEBIAN_FRONTEND=noninteractive

chrome() {
  curl -sLO https://dl.google.com/linux/direct/google-chrome-stable_current_amd64.deb
  apt install -y ./google-chrome-stable_current_amd64.deb
  rm google-chrome-stable_current_amd64.deb
}

code() {
  curl -sSL -o code-stable-linux.deb "https://code.visualstudio.com/sha/download?build=stable&os=linux-deb-x64"
  apt install -y ./code-stable-linux.deb
  rm code-stable-linux.deb
}

cinnamon() {
  apt update
  apt install -y $(apt search cinnamon | grep ^cinnamon | awk -F/ '{print $1}') terminator ibus-mozc conky
}

# Debian 11
bullseye() {
  cinnamon && chrome && code
}

# Ubuntu 22.04
jammy() {
  cinnamon && chrome && code
}

# Ubuntu 20.04
focal() {
  cinnamon && chrome && code
}

{
  which lsb_release && lsb_release -cs || no lsb_release
  eval $(cat /etc/*release)
  $VERSION_CODENAME
}
